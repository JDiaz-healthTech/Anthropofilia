/* ==========================================================================
   ANTHROPOFILIA BLOG – TEMA VINTAGE MODERNO
   ========================================================================== */

/* --- Variables de Tema ---------------------------------------------------- */
:root {
  /* Paleta "Vintage Blogger" */
  --theme-bg: #f5f5f5; /* Un gris muy claro, típico de fondos de blog */
  --theme-surface: #ffffff; /* El blanco de la superficie de lectura */
  --theme-text: #333333; /* Texto principal oscuro, pero no negro puro */
  --theme-text-light: #777777; /* Texto secundario/metadatos */
  --theme-primary: #005999; /* Un azul clásico para enlaces */
  --theme-primary-hover: #d9480f; /* Naranja quemado para hover, un toque de color */
  --theme-border: #dddddd; /* Bordes sutiles y definidos */
  --theme-header-bg: #eeeeee; /* Fondo del header y footer */

  /* Tipografía Clásica */
  --font-body: Georgia, 'Times New Roman', Times, serif;
  --font-header: 'Helvetica Neue', Helvetica, Arial, sans-serif;

  /* Sizing y otros */
  --radius: 4px; /* Bordes menos redondeados, más clásicos */
  --transition: all 0.2s ease-in-out;
  --measure: 65ch; /* Ancho de línea para legibilidad */
  --shadow: 0 1px 3px rgba(0,0,0,0.1);
  --shadow-soft: 0 1px 2px rgba(0,0,0,.06);

}

/* --- Reset y base -------------------------------------------------------- */
* { box-sizing: border-box; }
html {
  scroll-behavior: smooth;
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
body {
  font-family: var(--font-body);
  line-height: 1.7;
  background-color: var(--theme-bg);
  color: var(--theme-text);
  margin: 0;
  text-rendering: optimizeLegibility;
}

img { max-width:100%; height:auto; }
hr { border:0; border-top:1px solid var(--theme-border); margin: 2rem 0; }

a { color: var(--theme-primary); text-decoration: none; transition: var(--transition); }
a:hover { color: var(--theme-primary-hover); text-decoration: underline; }
:focus-visible { outline: 3px solid var(--theme-primary); outline-offset: 2px; }

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-header);
  font-weight: 600;
  letter-spacing: -0.01em;
}

/* --- Layout Principal ---------------------------------------------------- */
.container {
  max-width: 1100px;
  margin: 2rem auto;
  background-color: var(--theme-surface);
  border: 1px solid var(--theme-border);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  overflow: hidden;
}

.main-header {
  background: var(--theme-header-bg);
  text-align: center;
  padding: 2rem 1.5rem;
  border-bottom: 2px solid var(--theme-border);
}

.main-header h1 {
  margin: 0 0 .25rem;
  font-size: 2.5rem;
  color: var(--theme-text);
}
.main-header h1 a {
  color: inherit;
  text-decoration: none;
}
.main-header p {
  margin: 0;
  font-size: 1.1rem;
  color: var(--theme-text-light);
  font-family: var(--font-header);
}

.main-nav {
  display: flex;
  justify-content: center;
  background: var(--theme-surface);
  border-bottom: 1px solid var(--theme-border);
  padding: 0 1rem;
  flex-wrap: wrap;
}
.main-nav a {
  padding: 0.75rem 1rem;
  font-family: var(--font-header);
  font-weight: 500;
  text-decoration: none;
  border-bottom: 3px solid transparent;
}
.main-nav a:hover, .main-nav a.active {
  color: var(--theme-text);
  border-bottom-color: var(--theme-primary);
  background: none;
}

.main-content-area {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  padding: 1.5rem;
}

@media (min-width: 768px) {
  .main-content-area {
    grid-template-columns: 2.5fr 1fr;
  }
}

main { max-width: 100%; }
aside { border-left: 1px solid var(--theme-border); padding-left: 1.5rem; }

.main-footer {
  text-align:center;
  padding: 2rem 1rem;
  background: var(--theme-header-bg);
  color: var(--theme-text-light);
  margin-top: 2rem;
  border-top: 1px solid var(--theme-border);
  font-family: var(--font-header);
}
.main-footer a { color: var(--theme-primary); }

/* --- Componentes --------------------------------------------------------- */

.post-card h2 {
  margin-top: 0;
}

.post-meta {
  display:block;
  font-family: var(--font-header);
  font-size: 0.9rem;
  color: var(--theme-text-light);
  margin-bottom: 2rem;
  border-bottom: 1px solid var(--theme-border);
  padding-bottom: 1rem;
}

.sidebar-widget { margin-bottom: 2rem; }
.sidebar-widget h4 {
  margin: 0 0 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--theme-border);
  font-size: 1.1rem;
}
.sidebar-widget ul { list-style: none; padding: 0; margin: 0; }
.sidebar-widget ul li { padding: .4rem 0; }
.sidebar-widget ul a { text-decoration: none; }

.single-post-content {
  max-width: var(--measure);
  margin-inline: auto;
  line-height: 1.8;
  font-size: 1.1rem;
}

/* Formularios */
.form-container, form {
  border: 1px solid var(--theme-border);
  padding: 1.5rem;
  border-radius: var(--radius);
}
.form-container div, form div { margin-bottom: 1rem; }
.form-container label, form label { display:block; margin-bottom: .5rem; font-weight: 600; font-family: var(--font-header); }
.form-container input[type="text"],
.form-container input[type="url"],
.form-container input[type="password"],
.form-container input[type="email"],
.form-container input[type="search"],
.form-container input[type="file"],
.form-container select,
.form-container textarea {
  width: 100%;
  padding: .6rem .8rem;
  border: 1px solid var(--theme-border);
  border-radius: var(--radius);
  background: #fff;
  transition: var(--transition);
  font-family: var(--font-body);
  font-size: 1rem;
}
.form-container input:focus,
.form-container select:focus,
.form-container textarea:focus {
  border-color: var(--theme-primary);
  box-shadow: 0 0 0 3px rgba(0, 89, 153, 0.2);
  outline: none;
}
.button, .form-container button {
  padding: .6rem 1.2rem;
  border: 1px solid var(--theme-primary);
  border-radius: var(--radius);
  background: var(--theme-primary);
  color: #fff;
  font-family: var(--font-header);
  font-size: 1rem;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
  transition: var(--transition);
}
.button:hover, .form-container button:hover {
  background: var(--theme-primary-hover);
  border-color: var(--theme-primary-hover);
  color: #fff;
  text-decoration: none;
}

/* --- Responsive ---------------------------------------------------------- */
@media (max-width: 1100px) {
  .container {
    margin: 0;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }
}

@media (max-width: 768px) {
  .main-content-area {
    grid-template-columns: 1fr;
    padding: 1rem;
  }
  aside {
    border-left: none;
    padding-left: 0;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid var(--theme-border);
  }
  .main-header h1 { font-size: 2rem; }
}

/* --- Preferencias de Usuario --------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Modo Oscuro "Vintage" */
@media (prefers-color-scheme: dark) {
  body:not(.light-mode) {
    --theme-bg: #1a1a1a;
    --theme-surface: #252525;
    --theme-text: #cccccc;
    --theme-text-light: #999999;
    --theme-primary: #5ea6e0;
    --theme-primary-hover: #ff8c42;
    --theme-border: #444444;
    --theme-header-bg: #1f1f1f;
  }
  body:not(.light-mode) .button:hover,
  body:not(.light-mode) .form-container button:hover {
    color: #fff;
  }
}

.visually-hidden {
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* --- Tema de Alto Contraste (Accesibilidad) ----------------------------- */
.high-contrast {
  --theme-bg: #000000;
  --theme-surface: #000000;
  --theme-text: #ffffff;
  --theme-text-light: #dddddd;
  --theme-primary: #ffff00; /* Amarillo brillante para máxima visibilidad */
  --theme-primary-hover: #ffffff;
  --theme-border: #ffffff;
  --theme-header-bg: #000000;
}

.high-contrast a:hover {
  text-decoration: none;
  background-color: var(--theme-primary);
  color: #000000;
}

.high-contrast .button,
.high-contrast .form-container button {
  background: #000000;
  color: var(--theme-primary);
  border: 2px solid var(--theme-primary);
}

.high-contrast .button:hover,
.high-contrast .form-container button:hover {
  background: var(--theme-primary);
  color: #000000;
  border-color: var(--theme-primary);
}

/* --- Controles de Accesibilidad ----------------------------------------- */
.accessibility-controls {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-left: 1rem;
}

.accessibility-button {
  background: transparent;
  border: 1px solid var(--theme-border);
  color: var(--theme-text-light);
  font-family: var(--font-header);
  font-weight: 600;
  font-size: 0.8rem;
  padding: 0.3rem 0.6rem;
  border-radius: var(--radius);
  cursor: pointer;
  transition: var(--transition);
}

.accessibility-button:hover {
  background: var(--theme-header-bg);
  color: var(--theme-text);
  border-color: var(--theme-text);
}

.high-contrast .accessibility-button {
  border-color: var(--theme-primary);
  color: var(--theme-primary);
}

.high-contrast .accessibility-button:hover {
  background: var(--theme-primary);
  color: #000;
}


/* ===============================================================
   MEJORAS: mini-fotos en aside + proyección de imágenes + pulido
   =============================================================== */

/* --- Aside: enlaces con mini-foto --------------------------------------- */
.link-thumbs { list-style: none; margin: 0; padding: 0; }
.link-thumbs li + li { margin-top: .35rem; }
.link-with-thumb { display: flex; align-items: center; gap: .6rem; line-height: 1.2; text-decoration: none; }
.link-with-thumb img { width: 22px; height: 22px; border-radius: 4px; object-fit: cover; flex: 0 0 22px; box-shadow: var(--shadow-soft); }
.link-with-thumb span { display: inline-block; }

/* --- Contenido: imágenes limpias y consistentes ------------------------- */
.contenido img { display: block; margin: 1.25rem auto; border-radius: var(--radius); box-shadow: var(--shadow-soft); max-width: 100%; height: auto; }
.contenido figure { margin: 1.5rem 0; }
.contenido figcaption { color: var(--theme-text-light); font-size: .9rem; text-align: center; margin-top: .5rem; }

/* Imagen destacada del post */
.imagen-destacada { margin: 1rem 0 2rem; border-radius: var(--radius); overflow: hidden; }
.imagen-destacada img { display:block; width:100%; height:auto; }

/* --- Lightbox minimalista (proyección a pantalla completa) -------------- */
.lightbox-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.88); display: none; align-items: center; justify-content: center; z-index: 1000; }
.lightbox-overlay.open { display: flex; }
.lightbox-overlay img { max-width: 95vw; max-height: 90vh; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,.6); }
.lightbox-overlay .lb-close { position: absolute; top: 1rem; right: 1rem; font-size: 2rem; line-height: 1; background: transparent; color: #fff; border: 0; cursor: pointer; }

/* --- Pulido general ------------------------------------------------------ */
.post-card { border: 1px solid var(--theme-border); border-radius: var(--radius); box-shadow: var(--shadow-soft); padding: 1.2rem; background: var(--theme-surface); }
.post-card h2 a { text-decoration: none; }
.post-card:hover { box-shadow: var(--shadow); }

blockquote { border-left: 4px solid var(--theme-primary); padding: .75rem 1rem; background: rgba(0,0,0,.03); border-radius: 0 6px 6px 0; }

/* Paginación más cómoda */
.pagination { display: flex; align-items: center; gap: .75rem; justify-content: center; margin: 2rem 0; }
.pagination a { border: 1px solid var(--theme-border); padding: .45rem .7rem; border-radius: 6px; text-decoration: none; }
.pagination a:hover { border-color: var(--theme-primary); }

/* Ajustes en móvil */
@media (max-width: 820px) {
  .link-with-thumb img { width: 20px; height: 20px; }
  .post-card { padding: 1rem; }
}

/*  Ajustes para el árbol de archivos */
.archive-tree { list-style: none; padding: 0; margin: 0; }
.archive-tree > li { margin-bottom: .25rem; }
.archive-tree summary { cursor: pointer; font-weight: 600; }
.archive-tree .count { opacity: .7; font-weight: 400; }
.archive-tree ul { list-style: none; padding-left: 1rem; margin: .25rem 0 .5rem; }


/* Tipografía fluida y legible */
:root {
  --step--1: clamp(0.88rem, 0.85rem + 0.2vw, 0.95rem);
  --step-0:  clamp(1.00rem, 0.95rem + 0.4vw, 1.10rem);
  --step-1:  clamp(1.25rem, 1.10rem + 0.8vw, 1.40rem);
  --step-2:  clamp(1.56rem, 1.30rem + 1.2vw, 1.80rem);
}
body { font-size: var(--step-0); line-height: 1.65; }
h1 { font-size: var(--step-2); line-height: 1.2; }
h2 { font-size: var(--step-1); line-height: 1.25; }
small, .help-text { font-size: var(--step--1); }


/* Tablas y iframes responsivos */
.table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; }
.embed-responsive { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; }
.embed-responsive iframe,
.embed-responsive video { position:absolute; top:0; left:0; width:100%; height:100%; }

/* Tamaños táctiles mínimos */
button, .button, a.button-like { min-height: 44px; padding: .6rem .9rem; }

/* iOS notch */
@supports (padding: max(0px)) {
  body { padding-left: max(0px, env(safe-area-inset-left)); padding-right: max(0px, env(safe-area-inset-right)); }
}

input, textarea, select, button {
  font: inherit;
  width: 100%;
  max-width: 100%;
}
input, textarea, select {
  padding: .6rem .7rem;
  border: 1px solid var(--theme-border);
  border-radius: 8px;
}
@media (min-width: 720px) {
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; }
}

/* ===== Hamburguesa animada ===== */
.mobile-nav-toggle{
  --size: 40px;
  --bar-h: 2px;
  --gap: 6px;
  --anim: .22s ease-in-out;

  display:inline-flex; align-items:center; justify-content:center;
  width:var(--size); height:var(--size);
  border:1px solid var(--theme-border);
  background:var(--theme-surface);
  border-radius:8px; padding:0; cursor:pointer; line-height:1;
}

.mobile-nav-toggle:focus{ outline:2px solid var(--theme-primary); outline-offset:2px; }

/* icono */
.hamburger-icon{
  position:relative; width:22px; height:calc(var(--bar-h) * 3 + var(--gap) * 2);
  display:inline-block;
}
.hamburger-icon::before,
.hamburger-icon::after,
.hamburger-icon span{
  content:""; position:absolute; left:0; right:0; height:var(--bar-h);
  background: currentColor; border-radius:2px; transition: transform var(--anim), opacity var(--anim), top var(--anim), bottom var(--anim);
}
.hamburger-icon span{ top: calc(var(--bar-h) + var(--gap)); } /* barra central */
.hamburger-icon::before{ top:0; }
.hamburger-icon::after{ bottom:0; }

/* estado abierto → “X” */
.mobile-nav-toggle.is-open .hamburger-icon::before{
  top: calc(var(--bar-h) + var(--gap));
  transform: rotate(45deg);
}
.mobile-nav-toggle.is-open .hamburger-icon::after{
  bottom: auto; top: calc(var(--bar-h) + var(--gap));
  transform: rotate(-45deg);
}
.mobile-nav-toggle.is-open .hamburger-icon span{
  opacity:0;
}

/* Mostrar/ocultar nav en mobile */
@media (max-width:880px){
  .main-nav-links{ display:none; }
  .main-nav-links.active{ display:block; }
  .main-nav-links a{ display:block; padding:.6rem 0; }
  .mobile-nav-toggle{ display:inline-flex; }
}

/* En desktop ocultamos el botón si no lo usas como “compacto” */
@media (min-width:881px){
  .mobile-nav-toggle{ display:none; }
}

/* Modo oscuro (si lo tienes con .dark-mode en <body>) */
.dark-mode .mobile-nav-toggle{
  background:#1a1a1a; border-color:#333; color:#eee;
}
